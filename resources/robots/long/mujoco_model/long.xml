<mujoco model="long">
    <compiler angle="radian" />
    <size njmax="500" nconmax="100" />
    <option timestep='0.001' iterations='50' solver='PGS' gravity='0 0 -9.81'>
    </option>
    <size njmax="500" nconmax="100" />

    <visual>
        <quality shadowsize='4096'/>
        <map znear='0.05'/>
    </visual>
    
    <default>
        <joint limited='true'/>
        <motor ctrllimited='true'/>
        <geom  condim='4' contype="1" conaffinity="15" solref='0.001 2' friction='0.9 0.2 0.2'/>
        <equality solref='0.001 2'/>
    </default>
    
    <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="512"/>
        <texture name="texplane" type="2d" builtin="checker" rgb1=".2 .3 .4" rgb2=".1 0.15 0.2"
        width="512" height="512" mark="cross" markrgb=".8 .8 .8"/>
        <texture name="texplane2" type="2d" builtin="checker" rgb1="1 0.3137 0.1843" rgb2="0.0 0.30196 0.38039"
        width="512" height="512" mark="cross" markrgb=".8 .8 .8"/>

        <material name="matplane" reflectance="0." texture="texplane" texrepeat="1 1" texuniform="true"/>
        <material name="matplane2" reflectance="0.1" texture="texplane2" texrepeat="1 1" texuniform="true"/>

        <material name='obstacle'  rgba='0.9 0.6 0.2 1'/>
        <material name='visualgeom'  rgba='0.5 0.9 0.2 1'/>
        <material name='visualgeom2'  rgba='0.5 0.9 0.2 1'/>
    
        <mesh name="base_link" file="base_link.STL" />
        <mesh name="Link_waist_pitch" file="Link_waist_pitch.STL" />
        <mesh name="Link_waist_yaw" file="Link_waist_yaw.STL" />
        <mesh name="Link_hip_r_roll" file="Link_hip_r_roll.STL" />
        <mesh name="Link_hip_r_yaw" file="Link_hip_r_yaw.STL" />
        <mesh name="Link_hip_r_pitch" file="Link_hip_r_pitch.STL" />
        <mesh name="Link_knee_r_pitch" file="Link_knee_r_pitch.STL" />
        <mesh name="Link_ankle_pitch_r" file="Link_ankle_pitch_r.STL" />
        <mesh name="Link_ankle_roll_r" file="Link_ankle_roll_r.STL" />
        <mesh name="Link_hip_l_roll" file="Link_hip_l_roll.STL" />
        <mesh name="Link_hip_l_yaw" file="Link_hip_l_yaw.STL" />
        <mesh name="Link_hip_l_pitch" file="Link_hip_l_pitch.STL" />
        <mesh name="Link_knee_l_pitch" file="Link_knee_l_pitch.STL" />
        <mesh name="Link_ankle_pitch_l" file="Link_ankle_pitch_l.STL" />
        <mesh name="Link_ankle_roll_l" file="Link_ankle_roll_l.STL" />
	
	<hfield name='hf0' nrow='200' ncol='200' size="10 5 0.2 .1"/>	
    </asset>

    <worldbody>
    	<light directional="true" diffuse=".4 .4 .4" specular="0.1 0.1 0.1" pos="0 0 5.0" dir="0 0 -1" castshadow="false"/>
        <light directional="true" diffuse=".6 .6 .6" specular="0.2 0.2 0.2" pos="0 0 4" dir="0 0 -1"/>
        <geom name="ground" type="plane" size="0 0 1" pos="0.001 0 0" quat="1 0 0 0" material="matplane" condim="1" conaffinity='15'/>
    
        <body name="base_link" pos="0 0 1.05" quat="1 0 0 0">
               <joint type='slide' axis='1 0 0' limited='false' />
               <joint type='slide' axis='0 1 0' limited='false' />
               <joint type='slide' axis='0 0 1' limited='false' />
               <joint type='ball' limited='false' /> 
               <inertial pos="0 0 0" mass="28.977" diaginertia="0.001 0.001 0.001" fullinertia="0.26398 0.18447 0.18422 0.0009471 0.004646 0.0040142"/>
               <site name='imu' size='0.01' pos='0.0 0 0.0'/> 
	<geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="base_link" />
	<geom pos="0 0.001 -0.052" type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_waist_pitch" />
	<geom pos="0 -0.001 -0.1025" type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_waist_yaw" />

	<body name="Link_hip_l_roll" pos="-0.060751 0.109 -0.099">
	    <inertial pos="0.049478 8.5888e-05 0.0076444" quat="0.00226498 0.709451 -0.0020448 0.704748" mass="1.47" diaginertia="0.00273298 0.00192873 0.00101549" />
	    <joint name="J_hip_l_roll" pos="0 0 0" axis="1 0 0" limited="true" range="-0.44 1.57" />
	    <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_hip_l_roll" />
	    <body name="Link_hip_l_yaw" pos="0.06078 8.4728e-05 -0.014">
		<inertial pos="4.536e-05 0.0031979 -0.056655" quat="0.707031 -0.0132649 0.0112965 0.706968" mass="1.68" diaginertia="0.00278968 0.0018694 0.00123222" />
		<joint name="J_hip_l_yaw" pos="0 0 0" axis="0 0 -1" limited="true" range="-1.05 1.05" />
		<geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_hip_l_yaw" />
		<body name="Link_hip_l_pitch" pos="0 0.00185 -0.07">
		    <inertial pos="0.059945 0.00013582 -0.18451" quat="0.982767 -5.97702e-05 -0.184848 0.000177219" mass="4.36" diaginertia="0.0250616 0.024254 0.00401238" />
		    <joint name="J_hip_l_pitch" pos="0 0 0" axis="0 1 0" limited="true" range="-1.57 1.31" />
		    <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_hip_l_pitch" />
		    <body name="Link_knee_l_pitch" pos="0.13722 0 -0.37573">
			<inertial pos="-0.045117 -2.9961e-05 -0.20468" quat="0.99442 1.54429e-06 0.105496 6.08587e-06" mass="4.4101" diaginertia="0.0354021 0.035251 0.00193991" />
			<joint name="J_knee_l_pitch" pos="0 0 0" axis="0 -1 0" limited="true" range="-1.05 1.1" />
			<geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_knee_l_pitch" />
			<body name="Link_ankle_l_pitch" pos="-0.087314 0 -0.39035">
			    <inertial pos="-3.7705e-09 -0.00034194 -9.3807e-10" quat="0.499555 0.500445 0.500445 0.499555" mass="0.056" diaginertia="5.85e-06 5.8437e-06 4.7901e-06" />
			    <joint name="J_ankle_pitch_l" pos="0 0 0" axis="0 -1 0" limited="true" range="-0.7 0.87" />
			    <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_ankle_pitch_l" />
			    <body name="Link_ankle_roll_l" pos="0.0281 0 0">
			        <inertial pos="-0.0020127 -1.9723e-05 -0.044041" quat="-4.13425e-06 0.71263 5.20774e-06 0.70154" mass="1.07" diaginertia="0.00281932 0.0022543 0.000699299" />
			        <joint name="J_ankle_roll_l" pos="0 0 0" axis="1 0 0" limited="true" range="-0.44 0.44" />
			        <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_ankle_roll_l" />
			    </body>
			</body>
		    </body>
		</body>
	    </body>
	</body>
	<body name="Link_hip_r_roll" pos="-0.060749 -0.111 -0.099">
	    <inertial pos="0.049478 8.5888e-05 0.0076444" quat="0.00226498 0.709451 -0.0020448 0.704748" mass="1.47" diaginertia="0.00273298 0.00192873 0.00101549" />
	    <joint name="J_hip_r_roll" pos="0 0 0" axis="1 0 0" limited="true" range="-1.57 0.44" />
	    <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_hip_r_roll" />
	    <body name="Link_hip_r_yaw" pos="0.06078 8.4728e-05 -0.0125">
		<inertial pos="4.536e-05 0.0031979 -0.058155" quat="0.707031 -0.0132649 0.0112965 0.706968" mass="1.68" diaginertia="0.00278968 0.0018694 0.00123222" />
		<joint name="J_hip_r_yaw" pos="0 0 0" axis="0 0 -1" limited="true" range="-1.05 1.05" />
		<geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_hip_r_yaw" />
		<body name="Link_hip_r_pitch" pos="0 0.00185 -0.0715">
		    <inertial pos="0.059945 0.00013582 -0.18451" quat="0.982767 -5.97558e-05 -0.184848 0.000177186" mass="4.36" diaginertia="0.0250616 0.024254 0.00401238" />
		    <joint name="J_hip_r_pitch" pos="0 0 0" axis="0 1 0" limited="true" range="-1.31 1.57" />
		    <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_hip_r_pitch" />
		    <body name="Link_knee_r_pitch" pos="0.13722 0 -0.37573">
			<inertial pos="-0.045118 -2.9961e-05 -0.20468" quat="0.99442 1.54429e-06 0.105496 6.08587e-06" mass="4.4101" diaginertia="0.0354021 0.035251 0.00193991" />
			<joint name="J_knee_r_pitch" pos="0 0 0" axis="0 -1 0" limited="true" range="-1.1 1.05" />
			<geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_knee_r_pitch" />
			<body name="Link_ankle_r_pitch" pos="-0.087315 0 -0.39035">
			    <inertial pos="3.3921e-09 -0.00034194 -7.507e-10" quat="0.499555 0.500445 0.500445 0.499555" mass="0.056" diaginertia="5.85e-06 5.8437e-06 4.7901e-06" />
			    <joint name="J_ankle_pitch_r" pos="0 0 0" axis="0 -1 0" limited="true" range="-0.87 0.7" />
			    <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_ankle_pitch_r" />
			    <body name="Link_ankle_roll_r" pos="0.0281 0 0">
			        <inertial pos="-0.0020127 -1.9723e-05 -0.044041" quat="-4.13425e-06 0.71263 5.20774e-06 0.70154" mass="1.07" diaginertia="0.00281932 0.0022543 0.000699299" />
			        <joint name="J_ankle_roll_r" pos="0 0 0" axis="1 0 0" limited="true" range="-0.44 0.44" />
			        <geom type="mesh" rgba="0.69804 0.69804 0.69804 1" mesh="Link_ankle_roll_r" />
			    </body>
			</body>
		    </body>
		</body>
	    </body>
	</body>
	</body>
    </worldbody>
    <actuator>
      <motor name="M_hip_l_roll"  joint="J_hip_l_roll" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_hip_l_yaw"  joint="J_hip_l_yaw" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_hip_l_pitch" joint="J_hip_l_pitch" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_knee_l_pitch"  joint="J_knee_l_pitch" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_ankle_l_pitch"  joint="J_ankle_pitch_l" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_ankle_l_roll"  joint="J_ankle_roll_l" gear="1" ctrllimited="true" ctrlrange="-200 200"/>

      <motor name="M_hip_r_roll"  joint="J_hip_r_roll" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_hip_r_yaw"  joint="J_hip_r_yaw" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_hip_r_pitch"  joint="J_hip_r_pitch" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_knee_r_pitch"  joint="J_knee_r_pitch" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_ankle_r_pitch"  joint="J_ankle_pitch_r" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
      <motor name="M_ankle_r_roll"  joint="J_ankle_roll_r" gear="1" ctrllimited="true" ctrlrange="-200 200"/>
    </actuator>
    <sensor>
      <actuatorpos name='left_leg_roll_joint_p'  actuator='M_hip_l_roll' user='13'/>
      <actuatorpos name='left_leg_yaw_joint_p'  actuator='M_hip_l_yaw' user='13'/>
      <actuatorpos name='left_leg_pitch_joint_p'  actuator='M_hip_l_pitch' user='13'/>
      <actuatorpos name='left_knee_joint_p'  actuator='M_knee_l_pitch' user='13'/>
      <actuatorpos name='left_ankle_pitch_joint_p'  actuator='M_ankle_l_pitch' user='13'/>
      <actuatorpos name='left_ankle_roll_joint_p'  actuator='M_ankle_l_roll' user='13'/>
      
      <actuatorpos name='right_leg_roll_joint_p'  actuator='M_hip_r_roll' user='13'/>
      <actuatorpos name='right_leg_yaw_joint_p'  actuator='M_hip_r_yaw' user='13'/>
      <actuatorpos name='right_leg_pitch_joint_p'  actuator='M_hip_r_pitch' user='13'/>
      <actuatorpos name='right_knee_joint_p'  actuator='M_knee_r_pitch' user='13'/>
      <actuatorpos name='right_ankle_pitch_joint_p'  actuator='M_ankle_r_pitch' user='13'/>
      <actuatorpos name='right_ankle_roll_joint_p'  actuator='M_ankle_r_roll' user='13'/>
      
      <framequat     name='orientation' objtype='site' noise='0.001' objname='imu'/>
      <framepos     name='position' objtype='site' noise='0.001' objname='imu'/>
      <gyro          name='angular-velocity'    site='imu' noise='0.005' cutoff='34.9'/>
      <velocimeter   name='linear-velocity'     site='imu' noise='0.001' cutoff='30'/>
      <accelerometer name='linear-acceleration' site='imu' noise='0.005' cutoff='157'/>
      <magnetometer  name='magnetometer'        site='imu'/>
    </sensor>
</mujoco>
